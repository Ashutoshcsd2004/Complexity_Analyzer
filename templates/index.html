<!doctype html>
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="utf-8" />
    <title>Code Complexity Analyzer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap 5 CSS CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/custom.css') }}" />
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark border-bottom border-secondary">
      <div class="container-fluid">
        <a class="navbar-brand fw-bold" href="#">
          <span class="text-primary">Code</span>Complexity
        </a>
        
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div
          class="collapse navbar-collapse justify-content-end"
          id="navbarSupportedContent"
        >
          <ul class="navbar-nav mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#how-it-works">How it works</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#about">About</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="py-4">
      <div class="container">
        <!-- Heading -->
        <div class="text-center mb-4">
          <h1 class="fw-bold">Code Complexity Analyzer</h1>
          <p class="text-secondary mb-1">
            Paste your code, choose a language, and get <span class="text-info">Time &amp; Space Complexity</span> with explanation.
          </p>
          <small class="text-muted">
            Academic prototype – pattern-based static analysis (loops, recursion, arrays).
          </small>
        </div>

        <!-- Two-column layout -->
        <div class="row g-4">
          <!-- Left: Input Panel -->
          <div class="col-lg-6">
            <div class="card shadow-sm h-100">
              <div class="card-header bg-transparent border-bottom border-secondary">
                <h5 class="card-title mb-0">
                  <i class="bi bi-code-square me-1"></i> Input Code
                </h5>
              </div>
              <div class="card-body">
                <!-- Language Selection -->
                <div class="mb-3">
                  <label for="language" class="form-label fw-semibold">Language</label>
                  <select id="language" class="form-select">
                    <option value="python">Python</option>
                    <option value="cpp">C / C++</option>
                    <option value="java">Java</option>
                    <option value="js">JavaScript</option>
                  </select>
                </div>

                <!-- Code Textarea -->
                <div class="mb-3">
                  <label for="code" class="form-label fw-semibold">Paste Your Code</label>
                  <textarea
                    id="code"
                    class="form-control code-area"
                    rows="12"
                    placeholder="Paste your code here..."
                  ></textarea>
                </div>

                <!-- Buttons -->
                <div class="d-flex gap-2">
                  <button id="analyzeBtn" class="btn btn-primary flex-grow-1">
                    Analyze Complexity
                  </button>
                  <button id="clearBtn" class="btn btn-outline-light">
                    Clear
                  </button>
                </div>

                <!-- Small note -->
                <div class="mt-2">
                  <small class="text-muted">
                    No file upload required – directly paste your code for analysis.
                  </small>
                </div>
              </div>
            </div>
          </div>

          <!-- Right: Output Panel -->
          <div class="col-lg-6">
            <div class="card shadow-sm h-100">
              <div class="card-header bg-transparent border-bottom border-secondary d-flex justify-content-between align-items-center">
                <h5 class="card-title mb-0">
                  <i class="bi bi-graph-up-arrow me-1"></i> Analysis Result
                </h5>
                <span id="statusBadge" class="badge bg-secondary">Idle</span>
              </div>
              <div class="card-body">
                <!-- Time & Space Cards -->
                <div class="row g-3 mb-3">
                  <div class="col-md-6">
                    <div class="result-card border border-secondary rounded-3 p-3 h-100">
                      <div class="text-uppercase small text-muted">Time Complexity</div>
                      <div id="timeComplexity" class="display-6 fw-bold mt-1">
                        —
                      </div>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="result-card border border-secondary rounded-3 p-3 h-100">
                      <div class="text-uppercase small text-muted">Space Complexity</div>
                      <div id="spaceComplexity" class="display-6 fw-bold mt-1">
                        —
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Explanation -->
                <h6 class="fw-semibold mb-2">Step-by-step explanation</h6>
                <div class="explanation-box border border-secondary rounded-3 p-3">
                  <ul id="explanation" class="mb-0">
                    <li>No analysis yet. Paste code and click <strong>Analyze Complexity</strong>.</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- How it works section -->
        <section id="how-it-works" class="mt-5">
          <h3>How it works?</h3>
          <ol class="text-secondary">
            <li>Choose a programming language from the dropdown.</li>
            <li>Paste your code in the editor box on the left.</li>
            <li>Click on <strong>Analyze Complexity</strong>.</li>
            <li>The system scans for loops, recursion &amp; array usage.</li>
            <li>Approximate Time &amp; Space Complexity is shown with explanation.</li>
          </ol>
        </section>

        <!-- About section -->
        <section id="about" class="mt-4 mb-3">
          <h3>About this project</h3>
          <p class="text-secondary">
            This is a web-based academic tool to estimate time and space complexity of code snippets.
            It uses simple static analysis rules (loops, nesting, recursion patterns, array usage) and
            generates human-readable explanations. More accurate language-specific analyzers can be
            added as future enhancement.
          </p>
        </section>
      </div>
    </main>

    <footer class="border-top border-secondary py-3">
      <div class="container text-center text-secondary small">
        Developed as an academic project &middot; Code Complexity Analyzer
      </div>
    </footer>

    <!-- Bootstrap JS Bundle -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    ></script>

    <!-- Icons (Bootstrap Icons CDN) -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />

    <!-- Main JS -->
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
  </body>
</html>
